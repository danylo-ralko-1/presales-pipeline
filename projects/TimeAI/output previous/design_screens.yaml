screens:
  - id: "SCR-001"
    name: "Login"
    route: "/login"
    description: "Azure AD SSO authentication page"
    requirement_refs: ["Authentication Integration from client answers"]
    _implied: true
    frame:
      width: 1440
      height: 900
    layout:
      type: "centered"
      content_padding: 32
    elements:
      - id: "login-container"
        type: "Container"
        position:
          x: 520
          y: 300
        size:
          width: 400
          height: 300
        props:
          background: "surface_elevated"
          border_radius: "lg"
          shadow: "lg"
          padding: 48
      - id: "logo"
        type: "Image"
        position:
          x: 670
          y: 320
        size:
          width: 100
          height: 40
        props:
          alt: "Time AI Logo"
      - id: "login-title"
        type: "Text"
        position:
          x: 720
          y: 380
        size:
          width: 200
          height: 32
        props:
          text: "Time AI"
          font_size: "h2"
          font_weight: "semibold"
          color: "text_primary"
          text_align: "center"
      - id: "sso-button"
        type: "Button"
        position:
          x: 570
          y: 450
        size:
          width: 300
          height: 48
        props:
          label: "Sign in with Microsoft"
          variant: "primary"
          size: "lg"
        behavior:
          on_click: "authenticate_azure_ad"
        _requirement_ref: "Azure AD SSO from client answers"
    states:
      - name: "default"
        description: "Initial login page"
      - name: "loading"
        description: "Authenticating with Azure AD"

  - id: "SCR-002"
    name: "Search Dashboard"
    route: "/search"
    description: "Main search interface with simple search bar and filters"
    requirement_refs: ["Search Page from TimeAI Overview", "Google-simple search bar from client answers"]
    _implied: false
    frame:
      width: 1440
      height: 900
    layout:
      type: "full-width"
      content_padding: 32
    elements:
      - id: "header"
        type: "Container"
        position:
          x: 0
          y: 0
        size:
          width: 1440
          height: 80
        props:
          background: "surface_elevated"
          border_bottom: "1px solid border"
      - id: "logo-header"
        type: "Text"
        position:
          x: 32
          y: 24
        size:
          width: 120
          height: 32
        props:
          text: "Time AI"
          font_size: "h3"
          font_weight: "semibold"
          color: "primary"
      - id: "user-menu"
        type: "Button"
        position:
          x: 1320
          y: 24
        size:
          width: 88
          height: 32
        props:
          label: "Profile"
          variant: "secondary"
          size: "sm"
      - id: "search-container"
        type: "Container"
        position:
          x: 320
          y: 200
        size:
          width: 800
          height: 400
        props:
          background: "transparent"
      - id: "search-title"
        type: "Text"
        position:
          x: 720
          y: 220
        size:
          width: 400
          height: 40
        props:
          text: "Search Accounting Memos"
          font_size: "h1"
          font_weight: "semibold"
          color: "text_primary"
          text_align: "center"
      - id: "search-input"
        type: "Input"
        position:
          x: 370
          y: 300
        size:
          width: 700
          height: 56
        props:
          placeholder: "Search for guidance, topics, or fact patterns..."
          variant: "default"
          size: "lg"
        behavior:
          on_enter: "perform_search"
        _requirement_ref: "Search box from TimeAI Overview"
      - id: "search-button"
        type: "Button"
        position:
          x: 670
          y: 380
        size:
          width: 100
          height: 48
        props:
          label: "Search"
          variant: "primary"
          size: "lg"
        behavior:
          on_click: "perform_search"
        _requirement_ref: "Search button from TimeAI Overview"
      - id: "filters-toggle"
        type: "Button"
        position:
          x: 790
          y: 380
        size:
          width: 120
          height: 48
        props:
          label: "Filters"
          variant: "secondary"
          size: "lg"
        behavior:
          on_click: "toggle_filters"
        _requirement_ref: "Optional filters from TimeAI Overview"
      - id: "filters-panel"
        type: "Container"
        position:
          x: 370
          y: 450
        size:
          width: 700
          height: 200
        props:
          background: "surface"
          border: "1px solid border"
          border_radius: "md"
          padding: 24
          display: "none"
      - id: "date-filter"
        type: "Input"
        position:
          x: 390
          y: 480
        size:
          width: 150
          height: 40
        props:
          label: "Date Range"
          type: "date"
          variant: "default"
        _requirement_ref: "Date range filter from client answers"
      - id: "guidance-filter"
        type: "Select"
        position:
          x: 560
          y: 480
        size:
          width: 150
          height: 40
        props:
          label: "Guidance Topic"
          placeholder: "ASC Code"
          options: ["ASC 842", "ASC 606", "ASC 815"]
        _requirement_ref: "Guidance topic filter from client answers"
      - id: "author-filter"
        type: "Input"
        position:
          x: 730
          y: 480
        size:
          width: 150
          height: 40
        props:
          label: "Author"
          placeholder: "Personnel name"
          variant: "default"
        _requirement_ref: "Author/personnel filter from client answers"
      - id: "memo-type-filter"
        type: "Select"
        position:
          x: 900
          y: 480
        size:
          width: 150
          height: 40
        props:
          label: "Memo Type"
          options: ["Research Memo", "Client Advisory", "Internal Guidance"]
        _requirement_ref: "Memo type filter from client answers"
    states:
      - name: "default"
        description: "Initial search page with empty search bar"
      - name: "filters_expanded"
        description: "Filters panel is visible"

  - id: "SCR-003"
    name: "Search Results"
    route: "/search/results"
    description: "List of search results with AI-generated similarities/differences analysis"
    requirement_refs: ["Results List from TimeAI Overview", "Show 10 results initially from client answers"]
    _implied: false
    frame:
      width: 1440
      height: 900
    layout:
      type: "full-width"
      content_padding: 32
    elements:
      - id: "header"
        type: "Container"
        position:
          x: 0
          y: 0
        size:
          width: 1440
          height: 80
        props:
          background: "surface_elevated"
          border_bottom: "1px solid border"
      - id: "logo-header"
        type: "Text"
        position:
          x: 32
          y: 24
        size:
          width: 120
          height: 32
        props:
          text: "Time AI"
          font_size: "h3"
          font_weight: "semibold"
          color: "primary"
      - id: "search-input-header"
        type: "Input"
        position:
          x: 200
          y: 24
        size:
          width: 600
          height: 32
        props:
          value: "Previous search query"
          variant: "default"
        behavior:
          on_enter: "perform_search"
      - id: "search-button-header"
        type: "Button"
        position:
          x: 820
          y: 24
        size:
          width: 80
          height: 32
        props:
          label: "Search"
          variant: "primary"
          size: "sm"
        behavior:
          on_click: "perform_search"
      - id: "user-menu"
        type: "Button"
        position:
          x: 1320
          y: 24
        size:
          width: 88
          height: 32
        props:
          label: "Profile"
          variant: "secondary"
          size: "sm"
      - id: "results-header"
        type: "Text"
        position:
          x: 32
          y: 120
        size:
          width: 400
          height: 24
        props:
          text: "Found 47 relevant memos"
          font_size: "body_lg"
          color: "text_secondary"
      - id: "result-item-1"
        type: "Container"
        position:
          x: 32
          y: 160
        size:
          width: 1376
          height: 180
        props:
          background: "surface_elevated"
          border: "1px solid border"
          border_radius: "md"
          padding: 24
          margin_bottom: 16
      - id: "result-title-1"
        type: "Text"
        position:
          x: 56
          y: 180
        size:
          width: 800
          height: 24
        props:
          text: "Revenue Recognition for Software Licenses with Multiple Deliverables"
          font_size: "h5"
          font_weight: "semibold"
          color: "text_primary"
      - id: "result-metadata-1"
        type: "Text"
        position:
          x: 56
          y: 210
        size:
          width: 600
          height: 16
        props:
          text: "ASC 606 • March 2019 • Author: Sarah Johnson • ID: M-2019-0847"
          font_size: "body_sm"
          color: "text_secondary"
      - id: "relevance-score-1"
        type: "Container"
        position:
          x: 1200
          y: 180
        size:
          width: 80
          height: 24
        props:
          background: "success_light"
          border_radius: "full"
          padding: 8
      - id: "relevance-text-1"
        type: "Text"
        position:
          x: 1220
          y: 184
        size:
          width: 40
          height: 16
        props:
          text: "94%"
          font_size: "body_sm"
          font_weight: "semibold"
          color: "success_dark"
          text_align: "center"
        _requirement_ref: "Relevance scoring from client answers"
      - id: "similarities-1"
        type: "Text"
        position:
          x: 56
          y: 240
        size:
          width: 600
          height: 40
        props:
          text: "• Similar multi-element arrangement structure\n• Addresses standalone selling price allocation\n• Covers software license recognition timing"
          font_size: "body_sm"
          color: "text_primary"
        _requirement_ref: "Similarities analysis from TimeAI Overview"
      - id: "differences-1"
        type: "Text"
        position:
          x: 56
          y: 290
        size:
          width: 600
          height: 20
        props:
          text: "• Focuses on perpetual licenses vs. your subscription model query"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Differences analysis from TimeAI Overview"
      - id: "actions-1"
        type: "Container"
        position:
          x: 1000
          y: 280
        size:
          width: 320
          height: 40
      - id: "read-button-1"
        type: "Button"
        position:
          x: 1020
          y: 290
        size:
          width: 60
          height: 32
        props:
          label: "Read"
          variant: "secondary"
          size: "sm"
        behavior:
          on_click: "navigate:/memo/M-2019-0847"
        _requirement_ref: "Read action from TimeAI Overview"
      - id: "summarize-button-1"
        type: "Button"
        position:
          x: 1100
          y: 290
        size:
          width: 80
          height: 32
        props:
          label: "Summarize"
          variant: "secondary"
          size: "sm"
        behavior:
          on_click: "navigate:/memo/M-2019-0847/summary"
        _requirement_ref: "Summarize action from TimeAI Overview"
      - id: "draft-button-1"
        type: "Button"
        position:
          x: 1200
          y: 290
        size:
          width: 80
          height: 32
        props:
          label: "Draft New"
          variant: "primary"
          size: "sm"
        behavior:
          on_click: "navigate:/draft/new?source=M-2019-0847"
        _requirement_ref: "Draft New action from TimeAI Overview"
      - id: "load-more-button"
        type: "Button"
        position:
          x: 670
          y: 800
        size:
          width: 100
          height: 40
        props:
          label: "Load More"
          variant: "secondary"
        behavior:
          on_click: "load_more_results"
        _requirement_ref: "Infinite scroll or load more from client answers"
    states:
      - name: "default"
        description: "Search results loaded"
      - name: "loading"
        description: "Loading search results"
      - name: "empty"
        description: "No results found"
        empty_state_message: "No memos found matching your search criteria"

  - id: "SCR-004"
    name: "Memo Detail View"
    route: "/memo/:id"
    description: "Full memo content with metadata and action buttons"
    requirement_refs: ["Memo Detail View from TimeAI Overview"]
    _implied: false
    frame:
      width: 1440
      height: 1200
    layout:
      type: "sidebar-content"
      sidebar_width: 300
      content_padding: 32
    elements:
      - id: "header"
        type: "Container"
        position:
          x: 0
          y: 0
        size:
          width: 1440
          height: 80
        props:
          background: "surface_elevated"
          border_bottom: "1px solid border"
      - id: "logo-header"
        type: "Text"
        position:
          x: 32
          y: 24
        size:
          width: 120
          height: 32
        props:
          text: "Time AI"
          font_size: "h3"
          font_weight: "semibold"
          color: "primary"
      - id: "back-button"
        type: "Button"
        position:
          x: 200
          y: 24
        size:
          width: 100
          height: 32
        props:
          label: "← Back"
          variant: "secondary"
          size: "sm"
        behavior:
          on_click: "navigate_back"
      - id: "user-menu"
        type: "Button"
        position:
          x: 1320
          y: 24
        size:
          width: 88
          height: 32
        props:
          label: "Profile"
          variant: "secondary"
          size: "sm"
      - id: "sidebar"
        type: "Container"
        position:
          x: 0
          y: 80
        size:
          width: 300
          height: 1120
        props:
          background: "surface"
          border_right: "1px solid border"
          padding: 24
      - id: "memo-metadata"
        type: "Container"
        position:
          x: 24
          y: 104
        size:
          width: 252
          height: 400
      - id: "memo-id"
        type: "Text"
        position:
          x: 24
          y: 120
        size:
          width: 252
          height: 20
        props:
          text: "ID: M-2019-0847"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Memo metadata from TimeAI Overview"
      - id: "memo-title-sidebar"
        type: "Text"
        position:
          x: 24
          y: 150
        size:
          width: 252
          height: 60
        props:
          text: "Revenue Recognition for Software Licenses"
          font_size: "h6"
          font_weight: "semibold"
          color: "text_primary"
      - id: "clearance-date"
        type: "Text"
        position:
          x: 24
          y: 220
        size:
          width: 252
          height: 20
        props:
          text: "Clearance Date: March 15, 2019"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Clearance date from TimeAI Overview"
      - id: "guidance-refs"
        type: "Text"
        position:
          x: 24
          y: 250
        size:
          width: 252
          height: 40
        props:
          text: "Guidance: ASC 606-10-25-14, ASC 606-10-32-28"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Guidance references from TimeAI Overview"
      - id: "author-info"
        type: "Text"
        position:
          x: 24
          y: 300
        size:
          width: 252
          height: 20
        props:
          text: "Author: Sarah Johnson"
          font_size: "body_sm"
          color: "text_secondary"
      - id: "prior-consultations"
        type: "Text"
        position:
          x: 24
          y: 330
        size:
          width: 252
          height: 40
        props:
          text: "Prior Consultations: M-2018-0234, M-2017-0891"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Prior consultations from TimeAI Overview"
      - id: "relevance-analysis"
        type: "Container"
        position:
          x: 24
          y: 400
        size:
          width: 252
          height: 200
        props:
          background: "neutral_50"
          border_radius: "md"
          padding: 16
      - id: "relevance-title"
        type: "Text"
        position:
          x: 40
          y: 420
        size:
          width: 220
          height: 20
        props:
          text: "Query Relevance"
          font_size: "body"
          font_weight: "semibold"
          color: "text_primary"
      - id: "similarities-sidebar"
        type: "Text"
        position:
          x: 40
          y: 450
        size:
          width: 220
          height: 60
        props:
          text: "Similarities:\n• Multi-element arrangements\n• Standalone selling prices\n• License recognition timing"
          font_size: "body_sm"
          color: "text_primary"
        _requirement_ref: "Similarities highlights from TimeAI Overview"
      - id: "differences-sidebar"
        type: "Text"
        position:
          x: 40
          y: 520
        size:
          width: 220
          height: 40
        props:
          text: "Differences:\n• Perpetual vs. subscription model"
          font_size: "body_sm"
          color: "text_secondary"
        _requirement_ref: "Differences highlights from TimeAI Overview"
      - id: "action-buttons"
        type: "Container"
        position:
          x: 24
          y: 620
        size:
          width: 252
          height: 100
      - id: "summarize-button"
        type: "Button"
        position:
          x: 24
          y: 640
        size:
          width: 252
          height: 40
        props:
          label: "Summarize"
          variant: "secondary"
          size: "md"
        behavior:
          on_click: "navigate:/memo/M-2019-0847/summary"
        _requirement_ref: "Summarize shortcut from TimeAI Overview"
      - id: "draft-new-button"
        type: "Button"
        position:
          x: 24
          y: 690
        size:
          width: 252
          height: 40
        props:
          label: "Draft New"
          variant: "primary"
          size: "md"
        behavior:
          on_click: "navigate:/draft/new?source=M-2019-0847"
        _requirement_ref: "Draft New shortcut from TimeAI Overview"
      - id: "content-area"
        type: "Container"
        position:
          x: 300
          y: 80
        size:
          width: 1140
          height: 1120
        props:
          background: "background"
          padding: 48
      - id: "memo-title-main"
        type: "Text"
        position:
          x: 348
          y: 128
        size:
          width: 1044
          height: 40
        props:
          text: "Revenue Recognition for Software Licenses with Multiple Deliverables"
          font_size: "h2"
          font_weight: "semibold"
          color: "text_primary"
      - id: "memo-content"
        type: "Text"
        position:
          x: 348
          y: 188
        size:
          width: 1044
          height: 800
        props:
          text: "BACKGROUND\n\nThe Company enters into arrangements to sell software licenses along with implementation services, training, and ongoing support. The arrangement typically includes multiple deliverables that may be sold separately or as part of a bundled offering.\n\nISSUE\n\nHow should the Company recognize revenue for software license arrangements that include multiple deliverables under ASC 606?\n\nANALYSIS\n\nUnder ASC 606, the Company must first identify the performance obligations in the contract. Each distinct good or service represents a separate performance obligation...\n\n[Full memo content continues...]"
          font_size: "body"
          line_height: "relaxed"
          color: "text_primary"
        _requirement_ref: "Full text of memo from TimeAI Overview"
    states:
      - name: "default"
        description: "Memo content loaded"
      - name: "loading"
        description: "Loading memo content"

  - id: "SCR-005"
    name: "Memo Summary View"
    route: "/memo/:id/summary"
    description: "AI-generated summary of memo content in bullet points"
    requirement_refs: ["Memo Summary View from TimeAI Overview", "Brief summary with expand option from client answers"]
    _implied: false
    frame:
      width: 1440
      height: 900
    layout:
      type: "full-width"
      content_padding: 48
    elements:
      - id: "header"
        type: "Container"
        position:
          x: 0
          y: 0
        size:
          width: 1440
          height: 80
        props:
          background: "surface_elevated"
          border_bottom: "1px solid border"
      - id: "logo-header"
        type: "Text"
        position:
          x: 32
          y: 24
        size:
          width: 120
          height: 32
        props:
          text: "Time AI"
          font_size: "h3"
          font_weight: "semibold"
          color: "primary"
      - id: "back-button"
        type: "Button"
        position:
          x: 200
          y: 24
        size:
          width: 100
          height: 32
        props:
          label: "← Back"
          variant: "secondary"
          size: "sm"
        behavior:
          on_click: "navigate_back"
      - id: "user-menu"
        type: "Button"
        position:
          x: 1320
          y: 24
        size:
          width: 88
          height: 32
        props:
          label: "Profile"
          variant: "secondary"
          size: "sm"
      - id: "summary-container"
        type: "Container"
        position:
          x: 200
          y: 128
        size:
          width: 1040
          height: 700
        props:
          background: "surface_elevated"
          border_radius: "lg"
          padding: 48
      - id: "summary-title"
        type: "Text"
        position:
          x: 248
          y: 176
        size:
          width: 944
          height: 32
        props:
          text: "Memo Summary"
          font_size: "h2"
          font_weight: "semibold"
          color: "text_primary"
      - id: "memo-title-summary"
        type: "Text"
        position:
          x: 248
          y: 220
        size:
          width: 944
          height: 24
        props:
          text: "Revenue Recognition for Software Licenses with Multiple Deliverables"
          font_size: "h5"
          color: "text_secondary"
      - id: "key-topics-section"
        type: "Container"
        position:
          x: 248
          y: 268
        size:
          width: 944
          height: 200
      - id: "key-topics-title"
        type: "Text"
        position:
          x: 248
          y: 288
        size:
          width: 200
          height: 20
        props:
          text: "Key Accounting Topics"
          font_size: "body"
          font_weight: "semibold"
          color: "text_primary"
        _requirement_ref: "Key accounting topics from TimeAI Overview"
      - id: "key-topics-list"
        type: "Text"
        position:
          x: 248
          y: 318
        size:
          width: 944
          height: 120
        props:
          text: "• Revenue recognition under ASC 606 for multiple-element arrangements\n• Identification of distinct performance obligations in software contracts\n• Allocation of transaction price using standalone selling prices\n• Timing of revenue recognition for software licenses vs. services\n• Treatment of implementation and support services as separate deliverables"
          font_size: "body"
          line_height: "relaxed"
          color: "text_primary"
      - id: "guidance-section"
        type: "Container"
        position:
          x: 248
          y: 488
        size:
          width: 944
          height: 120
      - id: "guidance-title"
        type: "Text"
        position:
          x: 248
          y: 508
        size:
          width: 200
          height: 20
        props:
          text: "Guidance References"
          font_size: "body"
          font_weight: "semibold"
          color: "text_primary"
      - id: "guidance-list"
        type: "Text"
        position:
          x: 248
          y: 538
        size:
          width: 944
          height: 60
        props:
          text: "• ASC 606-10-25-14: Identifying performance obligations\n• ASC 606-10-32-28: Allocation of transaction price\n• ASC 606-10-25-27: Criteria for distinct goods or services"
          font_size: "body"
          line_height: "relaxed"
          color: "text_primary"
      - id: "conclusion-section"
        type: "Container"
        position:
          x: 248
          y: 628
        size:
          width: 944
          height: 100
      - id: "conclusion-title"
        type: "Text"
        position:
          x: 248
          y: 648
        size:
          width: 200
          height: 20
        props:
          text: "Key Conclusion"
          font_size: "body"
          font_weight: "semibold"
          color: "text_primary"
      - id: "conclusion-text"
        type: "Text"
        position:
          x: 248
          y: 678
        size:
          width: 944
          height: 40
        props:
          text: "Software licenses should be recognized at point in time when control transfers, while implementation services are recognized over time as performed."
          font_size: "body"
          line_height: "relaxed"
          color: "text_primary"
      - id: "action-buttons-summary"
        type: "Container"
        position:
          x: 248
          y: 748
        size:
          width: 300
          height: 48
      - id: "view-full-button"
        type: "Button"
        position:
          x: 248
          y: 758
        size:
          width: 120
          height: 40
        props:
          label: "View Full Memo"
          variant: "secondary"
          size: "md"
        behavior:
          on_click: "navigate:/memo/M-2019-0847"
      - id: "draft-new-summary"
        type: "Button"
        position:
          x: 388
          y: 758
        size:
          width: 100
          height: 40
        props:
          label: "Draft New"
          variant: "primary"
          size: "md"
        behavior:
          on_click: "navigate:/draft/new?source=M-2019-0847"
        _requirement_ref: "Draft New from summary from TimeAI Overview"
    states:
      - name: "default"
        description: "Summary loaded"
      - name: "loading"
        description: "Generating summary"

  - id: "SCR-006"
    name: "Draft New Memo"
    route: "/draft/new"
    description: "Form for creating new memo with AI assistance and template selection"
    requirement_refs: ["Drafting New Memos from TimeAI Overview", "3 standard memo templates from client answers"]
    _implied: false
    frame:
      width: 1440
      height: 1200
    layout:
      type: "full-width"
      content_padding: 32
    elements:
      - id: "header"
        type: "Container"
        position:
          x: 0
          y: 0
        size:
          width: 1