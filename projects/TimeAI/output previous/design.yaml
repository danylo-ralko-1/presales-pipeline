design_tokens:
  colors:
    primary: '#1B365D'
    primary_light: '#2A4A6B'
    primary_dark: '#0F1F35'
    secondary: '#4A90A4'
    secondary_light: '#6BA5B8'
    secondary_dark: '#2E5A6B'
    accent: '#E8B931'
    accent_light: '#F0C955'
    accent_dark: '#D4A41C'
    success: '#22C55E'
    success_light: '#4ADE80'
    success_dark: '#16A34A'
    warning: '#F59E0B'
    warning_light: '#FBBF24'
    warning_dark: '#D97706'
    error: '#EF4444'
    error_light: '#F87171'
    error_dark: '#DC2626'
    neutral_50: '#FAFAFA'
    neutral_100: '#F5F5F5'
    neutral_200: '#E5E5E5'
    neutral_300: '#D4D4D4'
    neutral_400: '#A3A3A3'
    neutral_500: '#737373'
    neutral_600: '#525252'
    neutral_700: '#404040'
    neutral_800: '#262626'
    neutral_900: '#171717'
    background: '#FFFFFF'
    surface: '#FAFAFA'
    surface_elevated: '#FFFFFF'
    text_primary: '#171717'
    text_secondary: '#525252'
    text_disabled: '#A3A3A3'
    text_inverse: '#FFFFFF'
    border: '#E5E5E5'
    border_focus: '#1B365D'
    border_error: '#EF4444'
  typography:
    font_family: '''Inter'', -apple-system, BlinkMacSystemFont, ''Segoe UI'', Roboto, sans-serif'
    font_sizes:
      h1: 32
      h2: 28
      h3: 24
      h4: 20
      h5: 18
      h6: 16
      body_lg: 18
      body: 16
      body_sm: 14
      caption: 12
    font_weights:
      light: 300
      regular: 400
      medium: 500
      semibold: 600
      bold: 700
    line_heights:
      tight: 1.2
      normal: 1.5
      relaxed: 1.75
  spacing:
    xs: 4
    sm: 8
    md: 16
    lg: 24
    xl: 32
    2xl: 48
    3xl: 64
  border_radius:
    sm: 4
    md: 8
    lg: 12
    xl: 16
    full: 9999
  shadows:
    sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05)
    md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)
    lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)
    xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)
  transitions:
    fast: 150ms
    normal: 200ms
    slow: 300ms
components:
  Button:
    variants:
      primary:
        background: primary
        color: text_inverse
        border: 1px solid transparent
        hover:
          background: primary_dark
        active:
          background: primary_dark
          transform: translateY(1px)
        disabled:
          background: neutral_300
          color: text_disabled
          cursor: not-allowed
        focus:
          outline: 2px solid primary
          outline_offset: 2px
      secondary:
        background: transparent
        color: primary
        border: 1px solid primary
        hover:
          background: primary
          color: text_inverse
        active:
          background: primary_dark
          color: text_inverse
        disabled:
          border_color: neutral_300
          color: text_disabled
          cursor: not-allowed
        focus:
          outline: 2px solid primary
          outline_offset: 2px
      ghost:
        background: transparent
        color: text_primary
        border: 1px solid transparent
        hover:
          background: neutral_100
        active:
          background: neutral_200
        disabled:
          color: text_disabled
          cursor: not-allowed
        focus:
          outline: 2px solid primary
          outline_offset: 2px
      danger:
        background: error
        color: text_inverse
        border: 1px solid transparent
        hover:
          background: error_dark
        active:
          background: error_dark
          transform: translateY(1px)
        disabled:
          background: neutral_300
          color: text_disabled
          cursor: not-allowed
        focus:
          outline: 2px solid error
          outline_offset: 2px
    sizes:
      sm:
        height: 32
        padding: 6px 12px
        font_size: body_sm
        border_radius: sm
      md:
        height: 40
        padding: 10px 16px
        font_size: body
        border_radius: md
      lg:
        height: 48
        padding: 12px 24px
        font_size: body_lg
        border_radius: md
    props:
    - label
    - icon
    - icon_position
    - loading
    - disabled
    - type
  Input:
    variants:
      default:
        background: background
        border: 1px solid border
        color: text_primary
        placeholder_color: text_disabled
        hover:
          border_color: neutral_400
        focus:
          border_color: border_focus
          outline: 2px solid primary
          outline_offset: 2px
        error:
          border_color: border_error
          outline: 2px solid error
          outline_offset: 2px
        disabled:
          background: neutral_100
          border_color: neutral_300
          color: text_disabled
          cursor: not-allowed
    sizes:
      sm:
        height: 32
        padding: 6px 12px
        font_size: body_sm
        border_radius: sm
      md:
        height: 40
        padding: 10px 16px
        font_size: body
        border_radius: md
      lg:
        height: 48
        padding: 12px 16px
        font_size: body_lg
        border_radius: md
    props:
    - placeholder
    - value
    - type
    - disabled
    - error
    - icon
    - icon_position
  SearchInput:
    variants:
      default:
        background: background
        border: 1px solid border
        color: text_primary
        placeholder_color: text_disabled
        icon_color: neutral_500
        hover:
          border_color: neutral_400
        focus:
          border_color: border_focus
          outline: 2px solid primary
          outline_offset: 2px
          box_shadow: md
        disabled:
          background: neutral_100
          border_color: neutral_300
          color: text_disabled
          cursor: not-allowed
    sizes:
      md:
        height: 48
        padding: 12px 16px 12px 48px
        font_size: body
        border_radius: lg
      lg:
        height: 56
        padding: 16px 20px 16px 56px
        font_size: body_lg
        border_radius: xl
    props:
    - placeholder
    - value
    - disabled
    - loading
  Select:
    variants:
      default:
        background: background
        border: 1px solid border
        color: text_primary
        hover:
          border_color: neutral_400
        focus:
          border_color: border_focus
          outline: 2px solid primary
          outline_offset: 2px
        error:
          border_color: border_error
        disabled:
          background: neutral_100
          border_color: neutral_300
          color: text_disabled
          cursor: not-allowed
    sizes:
      sm:
        height: 32
        padding: 6px 32px 6px 12px
        font_size: body_sm
        border_radius: sm
      md:
        height: 40
        padding: 10px 40px 10px 16px
        font_size: body
        border_radius: md
      lg:
        height: 48
        padding: 12px 48px 12px 16px
        font_size: body_lg
        border_radius: md
    props:
    - options
    - value
    - placeholder
    - disabled
    - error
    - multiple
  Badge:
    variants:
      default:
        background: neutral_100
        color: text_primary
        border: 1px solid transparent
      primary:
        background: primary
        color: text_inverse
        border: 1px solid transparent
      secondary:
        background: secondary_light
        color: text_primary
        border: 1px solid transparent
      success:
        background: success_light
        color: text_primary
        border: 1px solid transparent
      warning:
        background: warning_light
        color: text_primary
        border: 1px solid transparent
      error:
        background: error_light
        color: text_inverse
        border: 1px solid transparent
      outline:
        background: transparent
        color: text_primary
        border: 1px solid border
    sizes:
      sm:
        height: 20
        padding: 2px 8px
        font_size: caption
        border_radius: full
      md:
        height: 24
        padding: 4px 12px
        font_size: body_sm
        border_radius: full
      lg:
        height: 32
        padding: 6px 16px
        font_size: body
        border_radius: full
    props:
    - label
    - icon
    - removable
  Card:
    variants:
      default:
        background: surface_elevated
        border: 1px solid border
        box_shadow: sm
        hover:
          box_shadow: md
          transform: translateY(-1px)
      elevated:
        background: surface_elevated
        border: none
        box_shadow: md
        hover:
          box_shadow: lg
          transform: translateY(-2px)
      outlined:
        background: background
        border: 1px solid border
        box_shadow: none
        hover:
          border_color: neutral_400
    sizes:
      sm:
        padding: md
        border_radius: md
      md:
        padding: lg
        border_radius: lg
      lg:
        padding: xl
        border_radius: xl
    props:
    - title
    - subtitle
    - content
    - actions
    - clickable
  Modal:
    variants:
      default:
        background: surface_elevated
        border: 1px solid border
        box_shadow: xl
        overlay_background: rgba(0, 0, 0, 0.5)
        backdrop_blur: 4px
    sizes:
      sm:
        width: 400
        max_height: 300
        padding: lg
        border_radius: lg
      md:
        width: 600
        max_height: 500
        padding: xl
        border_radius: lg
      lg:
        width: 800
        max_height: 700
        padding: xl
        border_radius: xl
      xl:
        width: 1000
        max_height: 800
        padding: 2xl
        border_radius: xl
    props:
    - title
    - content
    - actions
    - closable
    - size
  Toast:
    variants:
      success:
        background: success
        color: text_inverse
        border: 1px solid transparent
        icon_color: text_inverse
      warning:
        background: warning
        color: text_primary
        border: 1px solid transparent
        icon_color: text_primary
      error:
        background: error
        color: text_inverse
        border: 1px solid transparent
        icon_color: text_inverse
      info:
        background: secondary
        color: text_inverse
        border: 1px solid transparent
        icon_color: text_inverse
    sizes:
      default:
        min_width: 300
        max_width: 500
        padding: md lg
        border_radius: md
        font_size: body_sm
    props:
    - message
    - type
    - duration
    - closable
    - action
  LoadingSpinner:
    variants:
      default:
        color: primary
        background: neutral_200
      light:
        color: text_inverse
        background: rgba(255, 255, 255, 0.3)
    sizes:
      sm:
        size: 16
        stroke_width: 2
      md:
        size: 24
        stroke_width: 2
      lg:
        size: 32
        stroke_width: 3
      xl:
        size: 48
        stroke_width: 3
    props:
    - size
    - color
  Navbar:
    variants:
      default:
        background: surface_elevated
        border_bottom: 1px solid border
        box_shadow: sm
      transparent:
        background: transparent
        border_bottom: none
        box_shadow: none
    sizes:
      default:
        height: 64
        padding: 0 lg
    props:
    - logo
    - navigation_items
    - user_menu
    - search
  Sidebar:
    variants:
      default:
        background: surface
        border_right: 1px solid border
      dark:
        background: neutral_800
        border_right: 1px solid neutral_700
        color: text_inverse
    sizes:
      sm:
        width: 240
        padding: md
      md:
        width: 280
        padding: lg
      lg:
        width: 320
        padding: xl
    props:
    - navigation_items
    - collapsible
    - collapsed
  Table:
    variants:
      default:
        background: background
        border: 1px solid border
        header_background: surface
        row_hover_background: neutral_50
        border_color: border
      striped:
        background: background
        border: 1px solid border
        header_background: surface
        row_hover_background: neutral_50
        alternate_row_background: neutral_50
        border_color: border
    sizes:
      sm:
        cell_padding: sm md
        font_size: body_sm
        header_font_size: body_sm
      md:
        cell_padding: md lg
        font_size: body
        header_font_size: body
      lg:
        cell_padding: lg xl
        font_size: body_lg
        header_font_size: body_lg
    props:
    - columns
    - data
    - sortable
    - selectable
    - pagination
  Pagination:
    variants:
      default:
        button_background: background
        button_border: 1px solid border
        button_color: text_primary
        active_background: primary
        active_color: text_inverse
        hover_background: neutral_100
    sizes:
      sm:
        button_size: 32
        font_size: body_sm
        spacing: xs
      md:
        button_size: 40
        font_size: body
        spacing: sm
      lg:
        button_size: 48
        font_size: body_lg
        spacing: md
    props:
    - current_page
    - total_pages
    - page_size
    - total_items
    - show_info
  EmptyState:
    variants:
      default:
        background: surface
        border: 1px dashed border
        text_color: text_secondary
        icon_color: neutral_400
      no_border:
        background: transparent
        border: none
        text_color: text_secondary
        icon_color: neutral_400
    sizes:
      sm:
        padding: xl
        icon_size: 48
        title_font_size: h6
        description_font_size: body_sm
      md:
        padding: 2xl
        icon_size: 64
        title_font_size: h5
        description_font_size: body
      lg:
        padding: 3xl
        icon_size: 80
        title_font_size: h4
        description_font_size: body_lg
    props:
    - title
    - description
    - icon
    - action
    - illustration
screens:
- id: SCR-001
  name: Login
  route: /login
  description: Azure AD SSO authentication page
  requirement_refs:
  - Authentication Integration from client answers
  _implied: true
  frame:
    width: 1440
    height: 900
  layout:
    type: centered
    content_padding: 32
  elements:
  - id: login-container
    type: Container
    position:
      x: 520
      y: 300
    size:
      width: 400
      height: 300
    props:
      background: surface_elevated
      border_radius: lg
      shadow: lg
      padding: 48
  - id: logo
    type: Image
    position:
      x: 670
      y: 320
    size:
      width: 100
      height: 40
    props:
      alt: Time AI Logo
  - id: login-title
    type: Text
    position:
      x: 720
      y: 380
    size:
      width: 200
      height: 32
    props:
      text: Time AI
      font_size: h2
      font_weight: semibold
      color: text_primary
      text_align: center
  - id: sso-button
    type: Button
    position:
      x: 570
      y: 450
    size:
      width: 300
      height: 48
    props:
      label: Sign in with Microsoft
      variant: primary
      size: lg
    behavior:
      on_click: authenticate_azure_ad
    _requirement_ref: Azure AD SSO from client answers
  states:
  - name: default
    description: Initial login page
  - name: loading
    description: Authenticating with Azure AD
- id: SCR-002
  name: Search Dashboard
  route: /search
  description: Main search interface with simple search bar and filters
  requirement_refs:
  - Search Page from TimeAI Overview
  - Google-simple search bar from client answers
  _implied: false
  frame:
    width: 1440
    height: 900
  layout:
    type: full-width
    content_padding: 32
  elements:
  - id: header
    type: Container
    position:
      x: 0
      y: 0
    size:
      width: 1440
      height: 80
    props:
      background: surface_elevated
      border_bottom: 1px solid border
  - id: logo-header
    type: Text
    position:
      x: 32
      y: 24
    size:
      width: 120
      height: 32
    props:
      text: Time AI
      font_size: h3
      font_weight: semibold
      color: primary
  - id: user-menu
    type: Button
    position:
      x: 1320
      y: 24
    size:
      width: 88
      height: 32
    props:
      label: Profile
      variant: secondary
      size: sm
  - id: search-container
    type: Container
    position:
      x: 320
      y: 200
    size:
      width: 800
      height: 400
    props:
      background: transparent
  - id: search-title
    type: Text
    position:
      x: 720
      y: 220
    size:
      width: 400
      height: 40
    props:
      text: Search Accounting Memos
      font_size: h1
      font_weight: semibold
      color: text_primary
      text_align: center
  - id: search-input
    type: Input
    position:
      x: 370
      y: 300
    size:
      width: 700
      height: 56
    props:
      placeholder: Search for guidance, topics, or fact patterns...
      variant: default
      size: lg
    behavior:
      on_enter: perform_search
    _requirement_ref: Search box from TimeAI Overview
  - id: search-button
    type: Button
    position:
      x: 670
      y: 380
    size:
      width: 100
      height: 48
    props:
      label: Search
      variant: primary
      size: lg
    behavior:
      on_click: perform_search
    _requirement_ref: Search button from TimeAI Overview
  - id: filters-toggle
    type: Button
    position:
      x: 790
      y: 380
    size:
      width: 120
      height: 48
    props:
      label: Filters
      variant: secondary
      size: lg
    behavior:
      on_click: toggle_filters
    _requirement_ref: Optional filters from TimeAI Overview
  - id: filters-panel
    type: Container
    position:
      x: 370
      y: 450
    size:
      width: 700
      height: 200
    props:
      background: surface
      border: 1px solid border
      border_radius: md
      padding: 24
      display: none
  - id: date-filter
    type: Input
    position:
      x: 390
      y: 480
    size:
      width: 150
      height: 40
    props:
      label: Date Range
      type: date
      variant: default
    _requirement_ref: Date range filter from client answers
  - id: guidance-filter
    type: Select
    position:
      x: 560
      y: 480
    size:
      width: 150
      height: 40
    props:
      label: Guidance Topic
      placeholder: ASC Code
      options:
      - ASC 842
      - ASC 606
      - ASC 815
    _requirement_ref: Guidance topic filter from client answers
  - id: author-filter
    type: Input
    position:
      x: 730
      y: 480
    size:
      width: 150
      height: 40
    props:
      label: Author
      placeholder: Personnel name
      variant: default
    _requirement_ref: Author/personnel filter from client answers
  - id: memo-type-filter
    type: Select
    position:
      x: 900
      y: 480
    size:
      width: 150
      height: 40
    props:
      label: Memo Type
      options:
      - Research Memo
      - Client Advisory
      - Internal Guidance
    _requirement_ref: Memo type filter from client answers
  states:
  - name: default
    description: Initial search page with empty search bar
  - name: filters_expanded
    description: Filters panel is visible
- id: SCR-003
  name: Search Results
  route: /search/results
  description: List of search results with AI-generated similarities/differences analysis
  requirement_refs:
  - Results List from TimeAI Overview
  - Show 10 results initially from client answers
  _implied: false
  frame:
    width: 1440
    height: 900
  layout:
    type: full-width
    content_padding: 32
  elements:
  - id: header
    type: Container
    position:
      x: 0
      y: 0
    size:
      width: 1440
      height: 80
    props:
      background: surface_elevated
      border_bottom: 1px solid border
  - id: logo-header
    type: Text
    position:
      x: 32
      y: 24
    size:
      width: 120
      height: 32
    props:
      text: Time AI
      font_size: h3
      font_weight: semibold
      color: primary
  - id: search-input-header
    type: Input
    position:
      x: 200
      y: 24
    size:
      width: 600
      height: 32
    props:
      value: Previous search query
      variant: default
    behavior:
      on_enter: perform_search
  - id: search-button-header
    type: Button
    position:
      x: 820
      y: 24
    size:
      width: 80
      height: 32
    props:
      label: Search
      variant: primary
      size: sm
    behavior:
      on_click: perform_search
  - id: user-menu
    type: Button
    position:
      x: 1320
      y: 24
    size:
      width: 88
      height: 32
    props:
      label: Profile
      variant: secondary
      size: sm
  - id: results-header
    type: Text
    position:
      x: 32
      y: 120
    size:
      width: 400
      height: 24
    props:
      text: Found 47 relevant memos
      font_size: body_lg
      color: text_secondary
  - id: result-item-1
    type: Container
    position:
      x: 32
      y: 160
    size:
      width: 1376
      height: 180
    props:
      background: surface_elevated
      border: 1px solid border
      border_radius: md
      padding: 24
      margin_bottom: 16
  - id: result-title-1
    type: Text
    position:
      x: 56
      y: 180
    size:
      width: 800
      height: 24
    props:
      text: Revenue Recognition for Software Licenses with Multiple Deliverables
      font_size: h5
      font_weight: semibold
      color: text_primary
  - id: result-metadata-1
    type: Text
    position:
      x: 56
      y: 210
    size:
      width: 600
      height: 16
    props:
      text: 'ASC 606 • March 2019 • Author: Sarah Johnson • ID: M-2019-0847'
      font_size: body_sm
      color: text_secondary
  - id: relevance-score-1
    type: Container
    position:
      x: 1200
      y: 180
    size:
      width: 80
      height: 24
    props:
      background: success_light
      border_radius: full
      padding: 8
  - id: relevance-text-1
    type: Text
    position:
      x: 1220
      y: 184
    size:
      width: 40
      height: 16
    props:
      text: 94%
      font_size: body_sm
      font_weight: semibold
      color: success_dark
      text_align: center
    _requirement_ref: Relevance scoring from client answers
  - id: similarities-1
    type: Text
    position:
      x: 56
      y: 240
    size:
      width: 600
      height: 40
    props:
      text: '• Similar multi-element arrangement structure

        • Addresses standalone selling price allocation

        • Covers software license recognition timing'
      font_size: body_sm
      color: text_primary
    _requirement_ref: Similarities analysis from TimeAI Overview
  - id: differences-1
    type: Text
    position:
      x: 56
      y: 290
    size:
      width: 600
      height: 20
    props:
      text: • Focuses on perpetual licenses vs. your subscription model query
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Differences analysis from TimeAI Overview
  - id: actions-1
    type: Container
    position:
      x: 1000
      y: 280
    size:
      width: 320
      height: 40
  - id: read-button-1
    type: Button
    position:
      x: 1020
      y: 290
    size:
      width: 60
      height: 32
    props:
      label: Read
      variant: secondary
      size: sm
    behavior:
      on_click: navigate:/memo/M-2019-0847
    _requirement_ref: Read action from TimeAI Overview
  - id: summarize-button-1
    type: Button
    position:
      x: 1100
      y: 290
    size:
      width: 80
      height: 32
    props:
      label: Summarize
      variant: secondary
      size: sm
    behavior:
      on_click: navigate:/memo/M-2019-0847/summary
    _requirement_ref: Summarize action from TimeAI Overview
  - id: draft-button-1
    type: Button
    position:
      x: 1200
      y: 290
    size:
      width: 80
      height: 32
    props:
      label: Draft New
      variant: primary
      size: sm
    behavior:
      on_click: navigate:/draft/new?source=M-2019-0847
    _requirement_ref: Draft New action from TimeAI Overview
  - id: load-more-button
    type: Button
    position:
      x: 670
      y: 800
    size:
      width: 100
      height: 40
    props:
      label: Load More
      variant: secondary
    behavior:
      on_click: load_more_results
    _requirement_ref: Infinite scroll or load more from client answers
  states:
  - name: default
    description: Search results loaded
  - name: loading
    description: Loading search results
  - name: empty
    description: No results found
    empty_state_message: No memos found matching your search criteria
- id: SCR-004
  name: Memo Detail View
  route: /memo/:id
  description: Full memo content with metadata and action buttons
  requirement_refs:
  - Memo Detail View from TimeAI Overview
  _implied: false
  frame:
    width: 1440
    height: 1200
  layout:
    type: sidebar-content
    sidebar_width: 300
    content_padding: 32
  elements:
  - id: header
    type: Container
    position:
      x: 0
      y: 0
    size:
      width: 1440
      height: 80
    props:
      background: surface_elevated
      border_bottom: 1px solid border
  - id: logo-header
    type: Text
    position:
      x: 32
      y: 24
    size:
      width: 120
      height: 32
    props:
      text: Time AI
      font_size: h3
      font_weight: semibold
      color: primary
  - id: back-button
    type: Button
    position:
      x: 200
      y: 24
    size:
      width: 100
      height: 32
    props:
      label: ← Back
      variant: secondary
      size: sm
    behavior:
      on_click: navigate_back
  - id: user-menu
    type: Button
    position:
      x: 1320
      y: 24
    size:
      width: 88
      height: 32
    props:
      label: Profile
      variant: secondary
      size: sm
  - id: sidebar
    type: Container
    position:
      x: 0
      y: 80
    size:
      width: 300
      height: 1120
    props:
      background: surface
      border_right: 1px solid border
      padding: 24
  - id: memo-metadata
    type: Container
    position:
      x: 24
      y: 104
    size:
      width: 252
      height: 400
  - id: memo-id
    type: Text
    position:
      x: 24
      y: 120
    size:
      width: 252
      height: 20
    props:
      text: 'ID: M-2019-0847'
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Memo metadata from TimeAI Overview
  - id: memo-title-sidebar
    type: Text
    position:
      x: 24
      y: 150
    size:
      width: 252
      height: 60
    props:
      text: Revenue Recognition for Software Licenses
      font_size: h6
      font_weight: semibold
      color: text_primary
  - id: clearance-date
    type: Text
    position:
      x: 24
      y: 220
    size:
      width: 252
      height: 20
    props:
      text: 'Clearance Date: March 15, 2019'
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Clearance date from TimeAI Overview
  - id: guidance-refs
    type: Text
    position:
      x: 24
      y: 250
    size:
      width: 252
      height: 40
    props:
      text: 'Guidance: ASC 606-10-25-14, ASC 606-10-32-28'
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Guidance references from TimeAI Overview
  - id: author-info
    type: Text
    position:
      x: 24
      y: 300
    size:
      width: 252
      height: 20
    props:
      text: 'Author: Sarah Johnson'
      font_size: body_sm
      color: text_secondary
  - id: prior-consultations
    type: Text
    position:
      x: 24
      y: 330
    size:
      width: 252
      height: 40
    props:
      text: 'Prior Consultations: M-2018-0234, M-2017-0891'
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Prior consultations from TimeAI Overview
  - id: relevance-analysis
    type: Container
    position:
      x: 24
      y: 400
    size:
      width: 252
      height: 200
    props:
      background: neutral_50
      border_radius: md
      padding: 16
  - id: relevance-title
    type: Text
    position:
      x: 40
      y: 420
    size:
      width: 220
      height: 20
    props:
      text: Query Relevance
      font_size: body
      font_weight: semibold
      color: text_primary
  - id: similarities-sidebar
    type: Text
    position:
      x: 40
      y: 450
    size:
      width: 220
      height: 60
    props:
      text: 'Similarities:

        • Multi-element arrangements

        • Standalone selling prices

        • License recognition timing'
      font_size: body_sm
      color: text_primary
    _requirement_ref: Similarities highlights from TimeAI Overview
  - id: differences-sidebar
    type: Text
    position:
      x: 40
      y: 520
    size:
      width: 220
      height: 40
    props:
      text: 'Differences:

        • Perpetual vs. subscription model'
      font_size: body_sm
      color: text_secondary
    _requirement_ref: Differences highlights from TimeAI Overview
  - id: action-buttons
    type: Container
    position:
      x: 24
      y: 620
    size:
      width: 252
      height: 100
  - id: summarize-button
    type: Button
    position:
      x: 24
      y: 640
    size:
      width: 252
      height: 40
    props:
      label: Summarize
      variant: secondary
      size: md
    behavior:
      on_click: navigate:/memo/M-2019-0847/summary
    _requirement_ref: Summarize shortcut from TimeAI Overview
  - id: draft-new-button
    type: Button
    position:
      x: 24
      y: 690
    size:
      width: 252
      height: 40
    props:
      label: Draft New
      variant: primary
      size: md
    behavior:
      on_click: navigate:/draft/new?source=M-2019-0847
    _requirement_ref: Draft New shortcut from TimeAI Overview
  - id: content-area
    type: Container
    position:
      x: 300
      y: 80
    size:
      width: 1140
      height: 1120
    props:
      background: background
      padding: 48
  - id: memo-title-main
    type: Text
    position:
      x: 348
      y: 128
    size:
      width: 1044
      height: 40
    props:
      text: Revenue Recognition for Software Licenses with Multiple Deliverables
      font_size: h2
      font_weight: semibold
      color: text_primary
  - id: memo-content
    type: Text
    position:
      x: 348
      y: 188
    size:
      width: 1044
      height: 800
    props:
      text: 'BACKGROUND


        The Company enters into arrangements to sell software licenses along with implementation services, training, and ongoing
        support. The arrangement typically includes multiple deliverables that may be sold separately or as part of a bundled
        offering.


        ISSUE


        How should the Company recognize revenue for software license arrangements that include multiple deliverables under
        ASC 606?


        ANALYSIS


        Under ASC 606, the Company must first identify the performance obligations in the contract. Each distinct good or
        service represents a separate performance obligation...


        [Full memo content continues...]'
      font_size: body
      line_height: relaxed
      color: text_primary
    _requirement_ref: Full text of memo from TimeAI Overview
  states:
  - name: default
    description: Memo content loaded
  - name: loading
    description: Loading memo content
- id: SCR-005
  name: Memo Summary View
  route: /memo/:id/summary
  description: AI-generated summary of memo content in bullet points
  requirement_refs:
  - Memo Summary View from TimeAI Overview
  - Brief summary with expand option from client answers
  _implied: false
  frame:
    width: 1440
    height: 900
  layout:
    type: full-width
    content_padding: 48
  elements:
  - id: header
    type: Container
    position:
      x: 0
      y: 0
    size:
      width: 1440
      height: 80
    props:
      background: surface_elevated
      border_bottom: 1px solid border
  - id: logo-header
    type: Text
    position:
      x: 32
      y: 24
    size:
      width: 120
      height: 32
    props:
      text: Time AI
      font_size: h3
      font_weight: semibold
      color: primary
  - id: back-button
    type: Button
    position:
      x: 200
      y: 24
    size:
      width: 100
      height: 32
    props:
      label: ← Back
      variant: secondary
      size: sm
    behavior:
      on_click: navigate_back
  - id: user-menu
    type: Button
    position:
      x: 1320
      y: 24
    size:
      width: 88
      height: 32
    props:
      label: Profile
      variant: secondary
      size: sm
  - id: summary-container
    type: Container
    position:
      x: 200
      y: 128
    size:
      width: 1040
      height: 700
    props:
      background: surface_elevated
      border_radius: lg
      padding: 48
  - id: summary-title
    type: Text
    position:
      x: 248
      y: 176
    size:
      width: 944
      height: 32
    props:
      text: Memo Summary
      font_size: h2
      font_weight: semibold
      color: text_primary
  - id: memo-title-summary
    type: Text
    position:
      x: 248
      y: 220
    size:
      width: 944
      height: 24
    props:
      text: Revenue Recognition for Software Licenses with Multiple Deliverables
      font_size: h5
      color: text_secondary
  - id: key-topics-section
    type: Container
    position:
      x: 248
      y: 268
    size:
      width: 944
      height: 200
  - id: key-topics-title
    type: Text
    position:
      x: 248
      y: 288
    size:
      width: 200
      height: 20
    props:
      text: Key Accounting Topics
      font_size: body
      font_weight: semibold
      color: text_primary
    _requirement_ref: Key accounting topics from TimeAI Overview
  - id: key-topics-list
    type: Text
    position:
      x: 248
      y: 318
    size:
      width: 944
      height: 120
    props:
      text: '• Revenue recognition under ASC 606 for multiple-element arrangements

        • Identification of distinct performance obligations in software contracts

        • Allocation of transaction price using standalone selling prices

        • Timing of revenue recognition for software licenses vs. services

        • Treatment of implementation and support services as separate deliverables'
      font_size: body
      line_height: relaxed
      color: text_primary
  - id: guidance-section
    type: Container
    position:
      x: 248
      y: 488
    size:
      width: 944
      height: 120
  - id: guidance-title
    type: Text
    position:
      x: 248
      y: 508
    size:
      width: 200
      height: 20
    props:
      text: Guidance References
      font_size: body
      font_weight: semibold
      color: text_primary
  - id: guidance-list
    type: Text
    position:
      x: 248
      y: 538
    size:
      width: 944
      height: 60
    props:
      text: '• ASC 606-10-25-14: Identifying performance obligations

        • ASC 606-10-32-28: Allocation of transaction price

        • ASC 606-10-25-27: Criteria for distinct goods or services'
      font_size: body
      line_height: relaxed
      color: text_primary
  - id: conclusion-section
    type: Container
    position:
      x: 248
      y: 628
    size:
      width: 944
      height: 100
  - id: conclusion-title
    type: Text
    position:
      x: 248
      y: 648
    size:
      width: 200
      height: 20
    props:
      text: Key Conclusion
      font_size: body
      font_weight: semibold
      color: text_primary
  - id: conclusion-text
    type: Text
    position:
      x: 248
      y: 678
    size:
      width: 944
      height: 40
    props:
      text: Software licenses should be recognized at point in time when control transfers, while implementation services
        are recognized over time as performed.
      font_size: body
      line_height: relaxed
      color: text_primary
  - id: action-buttons-summary
    type: Container
    position:
      x: 248
      y: 748
    size:
      width: 300
      height: 48
  - id: view-full-button
    type: Button
    position:
      x: 248
      y: 758
    size:
      width: 120
      height: 40
    props:
      label: View Full Memo
      variant: secondary
      size: md
    behavior:
      on_click: navigate:/memo/M-2019-0847
  - id: draft-new-summary
    type: Button
    position:
      x: 388
      y: 758
    size:
      width: 100
      height: 40
    props:
      label: Draft New
      variant: primary
      size: md
    behavior:
      on_click: navigate:/draft/new?source=M-2019-0847
    _requirement_ref: Draft New from summary from TimeAI Overview
  states:
  - name: default
    description: Summary loaded
  - name: loading
    description: Generating summary
- id: SCR-006
  name: Draft New Memo
  route: /draft/new
  description: Form for creating new memo with AI assistance and template selection
  requirement_refs:
  - Drafting New Memos from TimeAI Overview
  - 3 standard memo templates from client answers
  _implied: false
  frame:
    width: 1440
    height: 1200
  layout:
    type: full-width
    content_padding: 32
  elements:
  - id: header
    type: Container
    position:
      x: 0
      y: 0
    size:
      width: 1
user_flows:
- id: FLOW-001
  name: User Authentication
  actor: Professional Accountant
  description: Azure AD SSO login to access the system
  steps:
  - screen: SCR-001
    action: Click SSO login button
    success_target: SCR-002
    error_target: SCR-001
    notes: Azure AD handles authentication, redirect to search dashboard on success
  requirement_refs:
  - Azure AD SSO integration requirement
- id: FLOW-002
  name: Basic Memo Search
  actor: Professional Accountant
  description: Search for memos using keywords and optional filters
  steps:
  - screen: SCR-002
    action: Enter search query and click search
    success_target: SCR-003
    error_target: SCR-002
    notes: Show validation if empty query, display loading state during search
  - screen: SCR-003
    action: Review search results with AI-generated similarities/differences
    notes: Results show relevance scores and brief explanations
  requirement_refs:
  - Semantic search across memo corpus
  - LLM-generated similarities/differences analysis
- id: FLOW-003
  name: Filtered Memo Search
  actor: Professional Accountant
  description: Search with date range and other filters applied
  steps:
  - screen: SCR-002
    action: Toggle filters panel and set date range
    success_target: SCR-002
    notes: Filters panel expands to show date picker and other filter options
  - screen: SCR-002
    action: Enter search query with filters and click search
    success_target: SCR-003
    error_target: SCR-002
    notes: Search includes filter criteria in query processing
  - screen: SCR-003
    action: Review filtered search results
    notes: Results reflect applied filters, show active filter indicators
  requirement_refs:
  - Optional filters by guidance topic, personnel, etc.
- id: FLOW-004
  name: View Memo Details
  actor: Professional Accountant
  description: Navigate from search results to full memo content
  steps:
  - screen: SCR-003
    action: Click on memo result item to view details
    success_target: SCR-004
    notes: Memo opens in detail view with full content and metadata
  - screen: SCR-004
    action: Read memo content and metadata
    notes: Full memo text displayed with clearance date, guidance references
  requirement_refs:
  - Memo detail view with full text and metadata
- id: FLOW-005
  name: Generate Memo Summary
  actor: Professional Accountant
  description: Request AI-generated summary of memo content
  steps:
  - screen: SCR-003
    action: Click summarize action on search result
    success_target: SCR-005
    notes: Navigate directly to summary view from search results
  - screen: SCR-005
    action: Review AI-generated bullet-point summary
    notes: Summary shows key topics and condensed content
  requirement_refs:
  - LLM-powered summarization into key points
- id: FLOW-006
  name: Generate Summary from Detail View
  actor: Professional Accountant
  description: Request summary while viewing full memo details
  steps:
  - screen: SCR-004
    action: Click summarize button in memo detail view
    success_target: SCR-005
    notes: Navigate to summary view from detail view
  - screen: SCR-005
    action: Review summary and optionally return to detail view
    notes: Back button available to return to full memo
  requirement_refs:
  - Summarization from memo detail view
- id: FLOW-007
  name: Draft New Memo
  actor: Professional Accountant
  description: Create new memo based on retrieved content and fact patterns
  steps:
  - screen: SCR-003
    action: Click 'Draft New' action on relevant search result
    success_target: SCR-006
    notes: Navigate to drafting interface with context from selected memo
  - screen: SCR-006
    action: Enter fact pattern and select memo template
    notes: AI assists with structure generation based on retrieved content
  requirement_refs:
  - Draft new memos based on retrieved content
  - AI-assisted draft structure generation
- id: FLOW-008
  name: Draft from Memo Detail
  actor: Professional Accountant
  description: Start drafting process from memo detail view
  steps:
  - screen: SCR-004
    action: Click 'Draft New' button in memo detail view
    success_target: SCR-006
    notes: Navigate to drafting with full memo context
  - screen: SCR-006
    action: Use memo content as reference for new draft
    notes: System pre-populates relevant guidance references and structure
  requirement_refs:
  - Draft new memo from detail view
- id: FLOW-009
  name: Draft from Summary View
  actor: Professional Accountant
  description: Create new memo after reviewing summary
  steps:
  - screen: SCR-005
    action: Click 'Draft New' button in summary view
    success_target: SCR-006
    notes: Navigate to drafting with summarized content as context
  - screen: SCR-006
    action: Create draft incorporating key points from summary
    notes: AI uses summary insights for draft structure suggestions
  requirement_refs:
  - Draft new memo from summary view
- id: FLOW-010
  name: Navigation Between Views
  actor: Professional Accountant
  description: Navigate back through the application hierarchy
  steps:
  - screen: SCR-004
    action: Click back button to return to search results
    success_target: SCR-003
    notes: Maintain search context and scroll position
  - screen: SCR-005
    action: Click back button to return to previous view
    success_target: SCR-004
    notes: Return to memo detail view that led to summary
  requirement_refs:
  - Navigation between memo views
- id: FLOW-011
  name: Search from Header
  actor: Professional Accountant
  description: Perform new search from any page using header search
  steps:
  - screen: SCR-003
    action: Enter new query in header search input
    success_target: SCR-003
    notes: Update results without losing current page context
  - screen: SCR-004
    action: Use header search to find different memos
    success_target: SCR-003
    notes: Navigate back to results view with new search
  - screen: SCR-005
    action: Search for related content from summary view
    success_target: SCR-003
    notes: New search replaces current results
  requirement_refs:
  - Search functionality available from all pages
- id: FLOW-012
  name: User Session Management
  actor: Professional Accountant
  description: Handle user menu actions and session management
  steps:
  - screen: SCR-002
    action: Click user menu to access profile options
    notes: Dropdown shows logout and profile options
  - screen: SCR-003
    action: Access user menu from any authenticated page
    notes: Consistent user menu available across all screens
  - screen: SCR-004
    action: Logout from user menu
    success_target: SCR-001
    notes: Clear session and redirect to login
  requirement_refs:
  - User session management and logout
  _implied: true
- id: FLOW-013
  name: Error Handling - Search Failure
  actor: Professional Accountant
  description: Handle search errors and network issues
  steps:
  - screen: SCR-002
    action: Submit search query that fails due to network error
    error_target: SCR-002
    notes: Show error message, allow retry, maintain user input
  - screen: SCR-003
    action: Handle empty search results
    notes: Display 'no results found' message with search refinement suggestions
  requirement_refs:
  - Error handling for search functionality
  _implied: true
- id: FLOW-014
  name: Error Handling - Content Loading
  actor: Professional Accountant
  description: Handle errors when loading memo content
  steps:
  - screen: SCR-003
    action: Click memo that fails to load
    error_target: SCR-003
    notes: Show error message, option to retry or return to results
  - screen: SCR-004
    action: Handle memo content loading failure
    error_target: SCR-003
    notes: Display error state with back to results option
  requirement_refs:
  - Error handling for memo content access
  _implied: true
_metadata:
  project: TimeAI
  generated_by: presales design
  scope_rules: Every element traces to a requirement. Items marked _implied:true are structural necessities.
